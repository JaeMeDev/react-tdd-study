## 1. 페이지마다 스텝 주기

주문 페이지에서 주문확인 페이지 그리고 주문 완료 페이지로 이동해야 한다.

그러기 위해서 각 페이지 마다 페이지의 스텝을 주자.

주문 페이지(Step0) → 주문 확인(Step1) → 주문 완료(Step2)

해야할 일은?

- 주문 페이지에서 주문하고 주문 버튼 클릭 ⇒ 주문 확인 페이지에서 체크 박스와 버튼 클릭 ⇒ 주문 완료 페이지에서 완료 확인

## 2. 주문 확인 페이지(1)

## 3. 주문 확인 페이지(2)

## 4. 주문 완료 페이지(1)

## 5. 주문 완료 페이지(2)

## 6. not wrapped in act 경고

이 경고는 왜 나는 것일까?

리액트에서 나오는 act 경고는 우리가 컴포넌트에 아무것도 일어나지 않을 것으로 예상하고 있을 때 컴포넌트에 어떤 일이 일어나면 나오는 경고이다.

컴포넌트에서 무언가가 일어난다고 해주려면 act라는 함수로 감싸주어야 한다.

이렇게 감싸주면 리액트는 이 컴포넌트에서 어떤 일이 일어날거라고 생각하며, 만약 일어나지 않는 다면 리액트가 경고를 보여주게 된다.

지금까지 act로 감싸준적 없다?

react-testing-library 내부에 API에 act를 이미 내포하고 있어서 우리가 일부러 act로 감싸서 호출하지 않고 렌더링과 업데이트를 할 수 있다.

그러면 지금은 에러가 왜 났을까?

컴포넌트가 비동기 API호출할 때나 렌더링이나 어떠한 것이 업데이트 되기 전에 테스트가 종료될때는 따로 act로 감싸주어야 한다.

그래서 이때는 waitFor API를 이용해서 테스트가 끝나기전에 컴포넌트가 다 업데이트 되기를 기다려 줘야 한다.

그러면 act 경고를 어떻게 해결해야할까?

만들고 있는 앱에서 주문 완료 페이지에 첫페이지로 버튼을 누르면 첫페이지로 갔기 때문에 리액트는 첫페이지에서 어떠한 일이 일어날거라고 생각한다. 하지만 테스트 코드에서는 첫 페이지부분으로 가는 버튼을 누르고 바로 테스트가 끝나버린다. 그래서 경고가 보여지게 된다.

첫페이지에 온 후에 일어날 일들을 waitFor API를 이용해서 넣어주면 경고가 사라지게 된다.

## 7. 첫 페이지로 돌아갈 때 State Reset!